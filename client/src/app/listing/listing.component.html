<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.6/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>
</head>

<body>

    <div class="container">
        <h1>Bicycle Marketplace</h1>
        <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" [routerLink]="['/browse']">Browse</a>
                </li>
                <li class="nav-item active">
                    <!-- navgate to product list component -->
                    <a class="nav-link active" [routerLink]="['/list']">My listings</a>
                </li>
                <li class="nav-item active">
                    <button (click)="logout()" class="btn btn-success">Log out</button>
                </li>
            </ul>
        </nav>
    </div>
    <hr>
    <div class="container">
        <h1 style="color: blue;">Hello, {{user.first_name}}</h1>
        <br>
        <h4>Create Listing</h4>
        <form (submit)="createBike()">
            <div class="form-group">
                <label>Image URL:</label>
                <input type="text" class="form-control" id="" placeholder="image url..." name="image_url" [(ngModel)]="bike.image_url">
            </div>
            <div class="form-group">
                <label>Title:</label>
                <input type="text" class="form-control" placeholder="title area..." name="title" [(ngModel)]="bike.title">
            </div>

            <div class="form-group">
                <label>Price:</label>
                <input type="text" class="form-control" placeholder="price area..." name="price" [(ngModel)]="bike.price">
            </div>

            <div class="form-group">
                <label>Description:</label>
                <input type="text" class="form-control" placeholder="description area..." name="des" [(ngModel)]="bike.description">
            </div>

            <div class="form-group">
                <label>Location:</label>
                <input type="text" class="form-control" placeholder="location area..." name="location" [(ngModel)]="bike.location">
            </div>
            <button type="submit" class="btn btn-success">Create</button>
        </form>
    </div>
    <hr>
    <!-- Edit Section -->
    <div class="container" style="overflow: scroll;">
        <h4>Edit/Delete Listing</h4>

        <div *ngFor="let u of mybike">
            <form (submit)="updateBike(u._id, editbike)">
        <div class="form-group ">
          <label>Image URL:</label>
          <input type="text " class="form-control " id=" " placeholder="{{u.image_url}} " name="image_url "
          [(ngModel)] = "editbike.image_url "
          >
        </div>
        <div class="form-group ">
          <label>Title:</label>
          <input type="text " class="form-control "  placeholder="{{u.title}} " name="title "
           [(ngModel)] = "editbike.title "
          >

        </div>

        <div class="form-group ">
          <label>Price:</label>
          <input type="text " class="form-control " placeholder="{{u.price}} " name="price "
           [(ngModel)] = "editbike.price "
          >
        </div>

        <div class="form-group ">
          <label>Description:</label>
          <input type="text " class="form-control " placeholder="{{u.description}} " name="des "
           [(ngModel)] = "editbike.description "
          >
        </div>

        <div class="form-group ">
          <label>Location:</label>
          <input type="text " class="form-control " placeholder="{{u.location}} " name="location "
           [(ngModel)] = "editbike.location "
          >
        </div>
      <input type="submit" value="Update" class="btn btn-info ">
      <button class="btn btn-danger "(click) = "destroy(u._id) " >Delete</button>
      <hr>
    </form>
 

    </div>

    
</div>



</body>
</html>
